"use strict";(self.webpackChunknuvirlab_dev=self.webpackChunknuvirlab_dev||[]).push([[970],{3126:(e,t,a)=>{a.d(t,{$:()=>n});var s=a(2195);function n(){const e=document.querySelector(".note");(0,s.o)(e,"br"),(0,s.o)(e,"span","",{id:"pivot"}),(0,s.o)(e,"br"),(0,s.o)(e,"span","",{id:"time"})}},5046:(e,t,a)=>{a.d(t,{TV:()=>m,bM:()=>o,bn:()=>l});const s=new(a(4583).z);let n,i,r=null;function o(e){e.params.showTime&&(n=document.querySelector("#time")),null!==r&&cancelAnimationFrame(r),s.start(),c(e)}function l(e){e.stop(),s.stop(),null!==r&&cancelAnimationFrame(r)}function m(e){e.stop(),s.stop(),null!==r&&cancelAnimationFrame(r),e.reset(),e.update()}function c(e){r=requestAnimationFrame((()=>{c(e)})),i=s.getElapsedTime(),e.params.showTime&&(n.innerText="Time: "+i.toFixed(e.params.timeToFixed)+" s"),e.params.time&&i>e.params.time?l(e):e.start()}},4537:(e,t,a)=>{a.d(t,{l:()=>r,z:()=>i});var s=a(2195),n=a(5046);function i(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[["Rotate","Start"],["Pause","Pause"],["Stop","Stop"]]).forEach((e=>{!function(e,t){const a=document.querySelector(".control-container");(0,s.o)(a,"button",e,{class:"control-button",id:t})}(e[0],e[1])}))}function r(e){document.querySelector("#Start").addEventListener("click",(()=>{(0,n.bM)(e)}),!1),document.querySelector("#Pause").addEventListener("click",(()=>{(0,n.bn)(e)}),!1),document.querySelector("#Stop").addEventListener("click",(()=>{(0,n.TV)(e)}),!1)}},7915:(e,t,a)=>{a.d(t,{C:()=>i});var s=a(9774),n=a(3247);function i(e,t,a,i){const r=structuredClone(i);(0,s.h)(e,t,a,i),(0,n.i)(e,t,a,i),i.resetname&&(i.reset=()=>{},t.add(i,"reset").name(i.resetname).onChange((()=>{!function(e,t,a){const i=e.__controllers;a.visiblename&&(0,s.v)(t,i,a);a.labelname&&(0,n.S)(t,i,a)}(t,a,r),e.update()})))}},3247:(e,t,a)=>{a.d(t,{S:()=>r,i:()=>i});var s=a(7187),n=a(9437);function i(e,t,a,s){s.labelname&&t.add(s,"label").name(s.labelname).onFinishChange((e=>{a.getObjectByName("label"+a.name,!0).element.innerText=e})),s.labelColorname&&t.addColor(s,"labelColor").name(s.labelColorname).onChange((e=>{a.getObjectByName("label"+a.name,!0).element.style.color=o(e)})),s.labelVisiblename&&t.add(s,"labelVisible").name(s.labelVisiblename).onChange((t=>{a.getObjectByName("label"+a.name,!0).visible=t,e.update()}))}function r(e,t,a){a.labelname&&((0,s.ng)(t,"label"),e.getObjectByName("label"+e.name,!0).element.innerText=a.label),a.labelColorname&&((0,s.ng)(t,"labelColor"),e.getObjectByName("label"+e.name,!0).element.style.color=o(a.labelColor)),a.labelVisiblename&&(e.getObjectByName("label"+e.name,!0).visible=a.labelVisible)}function o(e){let t=new n.Q1f;return t.setHex(e),`rgb(${255*t.r},${255*t.g},${255*t.b})`}},37:(e,t,a)=>{function s(e){return e.charAt(0).toUpperCase()+e.slice(1)}a.d(t,{Z:()=>s})},852:(e,t,a)=>{a.d(t,{d:()=>i});var s=a(9437),n=a(733);function i(e,t,a){const i=new s.eaF(e,t);return a.setXLength&&(i.scale.x=(0,n.I)(a.setXLength)),a.setYLength&&(i.scale.y=(0,n.I)(a.setYLength)),a.setZLength&&(i.scale.z=(0,n.I)(a.setZLength)),i}},2142:(e,t,a)=>{a.d(t,{J9:()=>r,Ih:()=>i});var s=a(1824);var n=a(6243);function i(e,t){let a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=function(e){const t=(0,s.Y)(e),a=["x","y","z"];for(let e=0;e<t.length;e++)if("1"==t[e])return a[e]}(t.setRotationAxis);let r=function(e){const t=(0,s.Y)(e);return(0,n.C6)(t[0],"degree").to("radian")}(t.setRotationAngle);a&&(r=-r),e.rotation[i]=r}function r(e,t,a,s){let n=arguments.length>4&&void 0!==arguments[4]&&arguments[4];n&&e.parent.localToWorld(e.position),e.position.sub(t),e.position.applyAxisAngle(a,s),e.position.add(t),n&&e.parent.worldToLocal(e.position),e.rotateOnAxis(a,s)}},3260:(e,t,a)=>{a.d(t,{b:()=>n,w:()=>i});var s=a(733);function n(e,t){const a=(0,s.X)(t.setTranslation);e.position.set(a.x,a.z,a.y)}function i(e,t){const a=(0,s.X)(t.setTranslation);e.position.set(a.x,a.y,a.z)}},3334:(e,t,a)=>{var s=a(733),n=a(194),i=a(1116),r=a(7485),o=a(2264),l=a(9437),m=a(7346),c=a(1246);var d=a(1007);var h=a(4001),u=a(7187);var p=a(3963),g=a(9774),b=a(3247);function y(e,t,a,s){const n=t.addFolder(s.name);n.close();const i=structuredClone(s);(0,g.h)(e,n,a,s);const r=a.geometry.parameters.height,o=a.geometry.parameters.radiusTop,m=a.geometry.parameters.radiusBottom,c=a.geometry.parameters.radiusSegments;s.radiusTop&&n.add(s,"radiusTop",0,e.size).name(s.radiusTopname).listen().onChange((t=>{f(a,t,m,r,c,s.isG4),e.update()})),s.radiusBottom&&n.add(s,"radiusBottom",0,e.size).name(s.radiusBottomname).listen().onChange((t=>{f(a,o,t,r,c,s.isG4),e.update()})),s.height&&n.add(s,"height",0,e.size).name(s.heightname).listen().onChange((t=>{f(a,o,m,t,c,s.isG4),e.update()})),s.radialSegments&&n.add(s,"radialSegments",0,100).name(s.radialSegmentsname).listen().onChange((t=>{f(a,o,m,r,t,s.isG4),e.update()})),(0,h.U)(e,n,a,s),function(e,t,a,s){s.rotXname&&t.add(s,"rotX",0,360).name(s.rotXname).onChange((t=>{a.rotation.x=l.cj9.degToRad(t),e.update()})),s.rotYname&&t.add(s,"rotY",0,360).name(s.rotYname).onChange((t=>{a.rotation.z=l.cj9.degToRad(t),e.update()})),s.rotZname&&t.add(s,"rotZ",0,360).name(s.rotZname).onChange((t=>{a.rotation.y=l.cj9.degToRad(t),e.update()}))}(e,n,a,s),(0,p.N)(e,n,a,s),(0,b.i)(e,n,a,s),s.resetname&&(s.reset=()=>{},n.add(s,"reset").name(s.resetname).onChange((()=>{!function(e,t,a){const s=e.__controllers;a.radiusTop&&((0,u.ng)(s,"radiusTop"),f(t,a.radiusTop,a.radiusBottom,a.height,a.radialSegments,a.isG4));a.radiusBottom&&((0,u.ng)(s,"radiusBottom"),f(t,a.radiusTop,a.radiusBottom,a.height,a.radialSegments,a.isG4));a.height&&((0,u.ng)(s,"height"),f(t,a.radiusTop,a.radiusBottom,a.height,a.radialSegments,a.isG4));a.radialSegments&&((0,u.ng)(s,"radialSegments"),f(t,a.radiusTop,a.radiusBottom,a.height,a.radialSegments,a.isG4));(0,h.A)(t,s,a),function(e,t,a){a.rotXname&&((0,u.ng)(t,"rotX"),e.rotation.x=l.cj9.degToRad(a.rotX)),a.rotYname&&((0,u.ng)(t,"rotY"),e.rotation.z=l.cj9.degToRad(a.rotZ)),a.rotZname&&((0,u.ng)(t,"rotZ"),e.rotation.y=l.cj9.degToRad(a.rotY)),e.rotation.x=Math.PI/2}(t,s,a),(0,p.e)(t,s,a),(0,g.v)(t,s,a),(0,b.S)(t,s,a)}(n,a,i),e.update()})))}function f(e,t,a,s,n){let i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];e.geometry.dispose(),e.geometry=new l.Ho_(t,a,s,n),i&&(e.rotation.x=Math.PI/2)}var w=a(1411),T=a(37);const v={name:"Cylinder",parent:"world",insert:"cylinder",setMaterial:"Water",setColor:"green",setRmax:"10.0 cm",setHeight:"20. cm",setLabel:!0,setGui:!0};class R extends l.eaF{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),this.params={...v,...t},this.name=this.params.name,this.label=this.params.label?this.params.label:this.params.name;let a=(0,T.Z)(this.params.setMaterial);this.params.description=`${a} cylinder (radius: ${this.params.setRmax}, height: ${this.params.setHeight})`,(0,w.X)("inforComponents",this.params.description),function(e){const t=e.params;e.material=new l._4j({color:t.setColor?t.setColor:"aqua",transparent:!0,opacity:.5,depthWrite:!0,wireframe:!1});let a=1,n=1,i=1;t.setRmax&&(a=(0,s.I)(t.setRmax),n=a),t.setHeight&&(i=(0,s.I)(t.setHeight)),t.radius&&(a=(0,s.I)(t.radius),n=a),t.halfz&&(i=2*(0,s.I)(t.halfz)),t.color&&(e.material.color=new l.Q1f(t.color)),e.geometry=new l.Ho_(a,n,i)}(this),this.params.setLabel&&function(e){const t=(0,d.f)(e.label,1.2*e.geometry.parameters.radiusTop,e.geometry.parameters.height/2);t.name="label"+e.name,e.add(t)}(this),this.params.setGui&&function(e,t){const a=t.gui,s=e.params;let n={name:e.name,isG4:s.isG4,get resetname(){return"Reset "+this.name}},i={};s.guiVisible&&(i={visible:e.visible,visiblename:"Visible"},n={...n,...i});let r={};s.guiGeometry&&(r={height:e.geometry.parameters.height,heightname:"Height (m)",radiusTop:e.geometry.parameters.radiusTop,radiusTopname:"Top radius (m)",radiusBottom:e.geometry.parameters.radiusBottom,radiusBottomname:"Bottom radius (m)"},n={...n,...r});let o={};s.guiPosition&&(o={posX:e.position.x,posXname:"Position X (m)",posY:e.position.y,posYname:"Position Y (m)",posZ:e.position.z,posZname:"Position Z (m)"},n={...n,...o});let l={};s.guiRotation&&(l={rotX:e.rotation.x,rotXname:"Rotation X (deg)",rotY:e.rotation.y,rotYname:"Rotation Y (deg)",rotZ:e.rotation.z,rotZname:"Rotation Z (deg)"},n={...n,...l});let m={};s.guiMaterial&&(m={color:e.material.color.getHex(),colorname:"Color",opacity:e.material.opacity,opacityname:"Opacity",wireframe:e.material.wireframe,wireframename:"Wireframe"},n={...n,...m});let c={};s.guiLabel&&(c={label:e.label,labelname:"Label",labelColor:16777215,labelColorname:"Label color",labelVisible:!0,labelVisiblename:"Label visible"},n={...n,...c}),y(t,a,e,n)}(this,e)}}var x=a(1387);var C=a(852);function L(e,t,a,s,n,i,r){for(let o=0;o<a;o++)for(let a=0;a<s;a++)for(let s=0;s<n;s++){let n=t.clone();n.position.x=r.x+i.x*o,n.position.y=r.y+i.y*a,n.position.z=r.z+i.z*s,e.add(n)}}var P=a(3260);function S(e,t,a){const n=new l.YJl,i=new l.YJl,r=(0,s.X)(t.setRepeatVector),o=parseInt(t.setRepeatNumberRing),m=(0,s.I)(a.setZLength);L(i,e,1,1,o,r,new l.Pq0(e.position.x,e.position.y,e.position.z-r.z*(o/2)+m/2)),(0,P.w)(i,a);return function(e,t,a){const s=new l.YJl;s.add(t);const n=2*Math.PI/a;for(let t=0;t<a;++t){let a=s.clone();a.rotation.z+=n*t,e.add(a)}}(n,i,parseInt(t.setRepeatNumberLine)),n.name="blocks",n}var Y=a(5897);function z(e,t,a,s,n){let i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];const r=new l.eaF(e,t);(0,x.d4)(r,{setRmax:n.setRmax,setHeight:n.setHeight});const o=new l.eaF(a,s);(0,x.d4)(o,{setRmax:n.setRmin,setHeight:n.setHeight});const m=Y.wv.fromMesh(r,0),c=Y.wv.fromMesh(o,1),d=m.subtract(c),h=Y.wv.toMesh(d,new l.kn4);return h.material=r.material,i&&(h.rotation.x=Math.PI/2),h}function G(e){const t=e.params;e.name=t.name;const a=function(e){const t=e.setColor?e.setColor:"white",a=new l._4j({color:t,transparent:!0,opacity:.5,depthWrite:!0,wireframe:!0}),s=e.setColor?e.setColor:"yellow";return{air:a,BGO:new l._4j({color:s,transparent:!0,opacity:.5,depthWrite:!0,wireframe:!1}),tungsten:new l._4j({color:e.carter1.setColor,transparent:!0,opacity:1,depthWrite:!0,wireframe:!1})}}(t),n={box:new l.iNn(1,1,1),cylinder:new l.Ho_(1,1,1,100)},i=function(e,t){const a=new l.YJl,s=(0,x.T8)({setRmax:t.setRmin,setHeight:t.setHeight,radialSegments:100,openEnded:!0},e),n=(0,x.T8)({setRmax:t.setRmax,setHeight:t.setHeight,radialSegments:100,openEnded:!0},e);return a.add(s,n),t.isG4&&(a.rotation.x=Math.PI/2),a.name="container",a}(a.air,t);i.visible=!1;const r=function(e,t,a){const n=new l.YJl,i=(0,C.d)(e.box,t.BGO,a.crystal),r=(0,C.d)(e.box,t.air,a.block),o=(0,s.X)(a.cubicArray.setRepeatVector),m=parseInt(a.cubicArray.setRepeatNumberX),c=parseInt(a.cubicArray.setRepeatNumberY),d=parseInt(a.cubicArray.setRepeatNumberZ),h=(0,s.I)(a.crystal.setYLength),u=(0,s.I)(a.crystal.setZLength),p=(0,s.I)(a.block.setYLength),g=(0,s.I)(a.block.setZLength);return L(n,i,m,c,d,o,new l.Pq0(0,-p/2+h/2,-g/2+u/2)),n.add(r),n}(n,a,t),o=S(r,t.linear,t.block),m=function(e,t,a){const s=new l.YJl,n=(z(e.cylinder,t.air,e.cylinder,t.air,a.carter,a.isG4),z(e.cylinder,t.tungsten,e.cylinder,t.air,a.carter1,a.isG4));(0,P.w)(n,a.carter1),s.add(n);const i=z(e.cylinder,t.tungsten,e.cylinder,t.air,a.carter2,a.isG4);(0,P.w)(i,a.carter2),s.add(i);const r=z(e.cylinder,t.tungsten,e.cylinder,t.air,a.carter3,a.isG4);(0,P.w)(r,a.carter3),s.add(r);const o=z(e.cylinder,t.tungsten,e.cylinder,t.air,a.carter4,a.isG4);return(0,P.w)(o,a.carter4),s.add(o),(0,P.w)(s,a.carter),s.name=a.carter.name,s}(n,a,t);return{materials:a,rings:o,carters:m}}var I=a(2328),X=a(6019),B=a(7915);const k={name:"ecat",label:"PET scanner",insert:"cylinder",setMaterial:"Air",setRmax:"44.2 cm",setRmin:"41.2 cm",radialSegments:"2",setHeight:"15.52 cm",setVisible:"1",setLabel:!0,setGui:!0,isG4:!0,block:{name:"block",insert:"box",setTranslation:"427.0 0.0 0.0 mm",setXLength:"30.0 mm",setYLength:"35.8594 mm",setZLength:"38.7 mm",setMaterial:"Air"},crystal:{name:"crystal",insert:"box",setXLength:"30.0 mm",setYLength:"4.4 mm",setZLength:"4.75 mm",setMaterial:"BGO",setColor:"yellow"},cubicArray:{insert:"cubicArray",setRepeatNumberX:"1",setRepeatNumberY:"8",setRepeatNumberZ:"8",setRepeatVector:"0. 4.4942 4.85 mm"},linear:{insert:"linear",setRepeatNumberRing:"4",setRepeatVector:"0. 0. 38.8 mm",insert:"ring",setRepeatNumberLine:"72"},carter:{name:"carter",label:"Carter",insert:"cylinder",setMaterial:"Air",setRmax:"44.  cm",setRmin:"28.  cm",setHeight:"9. cm",setTranslation:"0.0 0.0 12.5 cm"},carter1:{name:"carter1",insert:"cylinder",setMaterial:"Tungsten",setRmax:"30.0  cm",setRmin:"29.0  cm",setHeight:"3.0 cm",setColor:"grey",setTranslation:"0.0 0.0 -3 cm"},carter2:{name:"carter2",insert:"cylinder",setMaterial:"Tungsten",setRmax:"40.7  cm",setRmin:"30.0  cm",setHeight:"1.0 cm",setColor:"grey",setTranslation:"0.0 0.0 -2 cm"},carter3:{name:"carter3",insert:"cylinder",setMaterial:"Tungsten",setRmax:"40.7  cm",setRmin:"39.7  cm",setHeight:"3.0 cm",setColor:"grey",setTranslation:"0.0 0.0 0 cm"},carter4:{name:"carter4",insert:"cylinder",setMaterial:"Tungsten",setRmax:"43.7  cm",setRmin:"40.7  cm",setHeight:"1.0 cm",setColor:"grey",setTranslation:"0.0 0.0 1 cm"}};class M extends l.YJl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),this.params={...k,...t},this.labels=[],this.label=t.label,this.params.description="Ecat PET",(0,w.X)("inforComponents",this.params.description),this.meshes=G(this),this.add(this.meshes.rings,this.meshes.carters),this.params.setLabel&&function(e){e.params;const t=(0,s.I)(e.params.setRmax),a=(0,s.I)(e.params.setHeight),n=(0,d.f)(e.params.label,0,1.2*t,-a);n.name="label"+e.name,e.add(n),e.labels.push(e.params.label)}(this),this.params.setGui&&function(e,t){const a=t.gui.addFolder("PET"),s={name:"PET rings",visible:e.visible,visiblename:"Visible",label:e.params.label,labelname:"Label",labelColor:16777215,labelColorname:"Label color",labelVisible:!0,labelVisiblename:"Label visible",get resetname(){return"Reset "+this.name}};(0,B.C)(t,a,e,s);const n=(0,X.P)(e,"blocks"),i=e.params.crystal.setMaterial,r=e.meshes.materials[i].opacity,o={name:"Crystal blocks",visible:n.visible,visiblename:"Visible",opacity:r,opacityname:"Opacity",resetname:"Reset blocks"};(0,I.C)(t,a,n,o);const l=(0,X.P)(e,"carter"),m={name:"Carter",visible:l.visible,visiblename:"Visible",opacity:l.children[0].material.opacity,opacityname:"Opacity",resetname:"Reset carter"};(0,I.C)(t,a,l,m)}(this,e)}}var Z=a(8523),H=a(7399);var A=a(6584),V=a(7986),E=a(4537),j=a(3126),N=a(2142);const O={description:"Simulation: Positron Emission Tomography (PET) System",infors:{authors:["Trang Hoang"],data:"https://drive.google.com/file/d/1EMIG5sYL2eHw3CbK8SX5BfjL34P4yp0g/view?usp=drive_link",refs:{"SARRUT David, Gate exercices, 7_pet":"https://gitlab.in2p3.fr/davidsarrut/gate-exercices/-/tree/master/7_pet"}},color:6316128,setLabel:!0,setGui:!0,showInfor:!0,world:{setMaterial:"Air",setXLength:"4. m",setYLength:"4. m",setZLength:"4. m"},phantom:{name:"Phantom",label:"Phantom",parent:"world",insert:"cylinder",setMaterial:"Water",setColor:"green",setRmax:"10.0 cm",setHeight:"20. cm",isG4:!0,setGui:!0,guiVisible:!0,guiGeometry:!1,guiPosition:!1,guiRotation:!1,guiMaterial:!0,guiLabel:!0},source:{shape:"cylinder",radius:"0.5 mm",halfz:"0.5 mm",centre:"0.0 0.0 0. cm",color:"yellow",setGui:!1,isG4:!0},animation:!0,showTime:!0,delta:1/60,cycleTime:5,timeToFixed:1,get time(){return 3*this.cycleTime},radsPerCycle:Math.PI,get angularVelocity(){return this.radsPerCycle/this.cycleTime},get tickTheta(){return this.delta*this.angularVelocity}};class _ extends l.YJl{constructor(e,t,a){super(),this.params={...O,...a},this.size=e,this.gui=t,this.axis=!0,this.meshes=function(e){const t=e.size,a=new R(e,e.params.phantom);a.rotation.x=Math.PI/2;const s=new M(e),n=(0,m.W)(t/2,"m",t/2e3,e.axis);return n.visible=!1,{phantom:a,pet:s,axes:n,beam:(0,c.c)()}}(this),this.add(this.meshes.axes,this.meshes.phantom,this.meshes.pet,this.meshes.beam),this.runs=[],this.zoomscale=.6,this.reset(),this.params.setGui&&function(e){const t=e.gui,a={name:"World",rotX:l.cj9.radToDeg(e.rotation.x),rotXname:"Rotation X",rotY:l.cj9.radToDeg(e.rotation.y),rotYname:"Rotation Y",rotZ:l.cj9.radToDeg(e.rotation.z),rotZname:"Rotation Z",bgColor:e.params.color,bgColorname:"Background",resetname:"Reset World"};(0,Z.S)(e,t,e,a);const s=e.meshes.axes,n={name:"Axes",visible:s.visible,visiblename:"Visible"};(0,H.m)(e,t,s,n)}(this),this.params.animation&&(this.pivotPoint=new l.Pq0(0,0,0),this.rotationAxis=new l.Pq0(0,1,0),(0,E.z)(),(0,E.l)(this),this.params.showTime&&(0,j.$)())}setBackgroundColor(){}update(){}zoom(e){}reset(){this.position.set(0,0,0),this.rotation.set(0,0,0)}start(){}stop(){}tick(e){(0,N.J9)(this,this.pivotPoint,this.rotationAxis,this.params.tickTheta,!1)}async init(){this.setBackgroundColor(this.params.color),this.zoom(this.zoomscale),(0,A.s)(this,this.params.showInfor),await(0,V.$)(this)}}var F=a(6297),q=a(4049),W=a(4393),J=a(6266),D=a(4376);let $,Q,U,K,ee,te,ae,se,ne=0;class ie{constructor(e){this.worldParams={setXLength:O.world.setXLength,setYLength:O.world.setYLength,setZLength:O.world.setZLength},Object.keys(this.worldParams).forEach((e=>{if(e.includes("Length")){let t=(0,s.I)(this.worldParams[e]);ne<t&&(ne=t)}})),$=(0,n.W)(0,0,ne),K=(0,r.B)(),Q=(0,q.K)(),U=(0,W.m)(),ae=(0,o._)(),ee=new D.F($,K,Q,U),e.append(Q.domElement,U.domElement),te=(0,F.B)($,U.domElement),se=new _(ne,ae,this.worldParams),(0,i.mD)($,10,10,10,"white",3),ee.updatables.push(te,se),K.add($,se),se.setBackgroundColor=e=>{K.background=new l.Q1f(e),this.render()},se.zoom=e=>{$.position.z*=e,this.render()},se.update=()=>{this.render()},se.start=()=>{ee.start()},se.stop=()=>{ee.stop()};new J.L(e,$,Q,U).onResize=()=>{this.render()},te.addEventListener("change",(()=>{this.render()}))}render(){Q.render(K,$),U.render(K,$)}start(){ee.start()}stop(){ee.stop()}async init(){await se.init()}}a(5281),"loading"==document.readyState?document.addEventListener("DOMContentLoaded",ready):async function(){const e=document.querySelector("#scene-container");e.style.display="block";const t=new ie(e);await t.init(),t.render()}().catch((e=>{console.log(e)}))},5281:(e,t,a)=>{a.r(t)},4583:(e,t,a)=>{a.d(t,{z:()=>s});class s{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=n(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=n();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function n(){return("undefined"==typeof performance?Date:performance).now()}}},e=>{e.O(0,[708,566,441],(()=>{return t=3334,e(e.s=t);var t}));e.O()}]);